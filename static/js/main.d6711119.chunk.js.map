{"version":3,"sources":["services/api.js","InstitutionsContext.js","pages/Institutions.js","pages/Institution.js","pages/PersonalLoans.js","Router.js","App.js","reportWebVitals.js","index.js"],"names":["domain","process","listInstitutions","a","fetch","resp","json","listPersonalLoansFromInstitution","id","page","InstitutionsContext","React","createContext","items","loaded","InstitutionsProvider","Provider","Institutions","useContext","state","map","item","to","name","Institution","useParams","useState","current","setCurrent","useEffect","find","history","useHistory","onClick","segment","push","location","pathname","PersonalLoans","personalLoans","setPersonalLoans","nextPage","setNextPage","pager","setPager","result","pagination","className","p","index","type","termsConditions","_id","total","Router","path","Layout","setState","App","value","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wQACMA,G,cAASC,qCAETC,EAAgB,uCAAG,4BAAAC,EAAA,sEACFC,MAAM,GAAD,OAAIJ,EAAJ,kBADH,cACfK,EADe,gBAERA,EAAKC,OAFG,mFAAH,qDAKhBC,EAAgC,uCAAG,WAAOC,EAAIC,GAAX,eAAAN,EAAA,sEAClBC,MAAM,GAAD,OAAIJ,EAAJ,yBAA2BQ,EAA3B,gCAAqDC,IADxC,cAC/BJ,EAD+B,gBAExBA,EAAKC,OAFmB,mFAAH,wD,eCNhCI,EAAsBC,IAAMC,cAAc,CAAEC,MAAO,GAAIC,QAAQ,IAE/DC,EAAuBL,EAAoBM,S,OCiBlCC,MAjBf,WAAyB,IAAD,EACNC,qBAAWR,GAApBS,EADe,oBAGtB,OACE,oCACE,wCACA,6BACGA,EAAMN,MAAMO,KAAI,SAACC,GAAD,OACf,6BACE,cAAC,IAAD,CAAMC,GAAI,gBAAkBD,EAAKb,GAAjC,SAAsCa,EAAKE,QADpC,QAAUF,EAAKb,aC0BnBgB,MAhCf,WAAwB,IAChBhB,EAAOiB,cAAPjB,GADe,EAELU,qBAAWR,GAApBS,EAFc,sBAGSO,mBAAS,MAHlB,mBAGdC,EAHc,KAGLC,EAHK,KAMrBC,qBAAU,WACRD,EAAWT,EAAMN,MAAMiB,MAAK,SAACT,GAAD,OAAUA,EAAKb,KAAOA,QACjD,CAACW,EAAOX,IAEX,IAAMuB,EAAUC,cAGhB,OACE,kCACGL,EACC,gCACE,6CAAgBA,EAAQJ,QAExB,kCACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQU,QAAS,kBAVbC,EAU0B,iBAVdH,EAAQI,KAAR,UAAgBJ,EAAQK,SAASC,SAAjC,YAA6CH,IAA1D,IAACA,GAUJ,qCAKN,2B,QCsBOI,MAlDf,WAA0B,IAAD,EACmBZ,mBAAS,IAD5B,mBAChBa,EADgB,KACDC,EADC,OAESd,mBAAS,MAFlB,mBAEhBe,EAFgB,KAENC,EAFM,OAGGhB,mBAAS,IAHZ,mBAGhBiB,EAHgB,KAGTC,EAHS,KAIfpC,EAAOiB,cAAPjB,GAmBR,OAjBAqB,qBAAU,WACR,sBAAC,sBAAA1B,EAAA,sDACCuC,EAAY,GADb,0CAAD,KAGC,CAAClC,IAEJqB,qBAAU,WACHY,GAGL,sBAAC,4BAAAtC,EAAA,sEACsBI,EAAiCC,EAAIiC,GAD3D,OACOI,EADP,OAECL,EAAiB,GAAD,mBAAKD,GAAL,YAAuBM,EAAON,iBAC9CK,EAASC,EAAOC,YAHjB,0CAAD,KAKC,CAACtC,EAAIiC,IAGN,oCACE,kEACA,wBAAOM,UAAW,iBAAlB,UACE,gCACE,+BACE,sCACA,+DAGJ,gCACGR,EAAcnB,KAAI,SAAC4B,EAAGC,GAAJ,OACjB,+BACE,6BAAKD,EAAEE,OACP,6BAAKF,EAAEG,kBACP,yBAHOH,EAAEI,IAAM,IAAMH,WAQ7B,gDACUN,EAAMhB,QADhB,IAC0BgB,EAAMU,aCtBvBC,MArBf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,oCAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,qBAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,iBAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,KAAZ,SACE,cAAC,EAAD,YCQV,SAASC,IAAU,IAAD,EAEUtC,qBAAWR,GAFrB,mBAETS,EAFS,KAEFsC,EAFE,KAgBhB,OAZA5B,qBAAU,WACR,sBAAC,4BAAA1B,EAAA,sEACqBD,IADrB,OACOW,EADP,OAEC4C,EAAS,2BACJtC,GADG,IAENN,QACAC,QAAQ,KALX,0CAAD,KAQC,IAID,oCACE,cAAC,IAAD,UACE,uDAEF,cAAC,EAAD,OAKS4C,MApCf,WAAgB,IAAD,EACahC,mBAAS,CAAEb,MAAO,GAAIC,QAAQ,IAD3C,mBACNK,EADM,KACCsC,EADD,KAGb,OACE,cAAC1C,EAAD,CAAsB4C,MAAO,CAACxC,EAAOsC,GAArC,SACE,cAACD,EAAD,OCVSI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.d6711119.chunk.js","sourcesContent":["\nconst domain = process.env.REACT_APP_API_DOMAIN + \"/api\";\n\nconst listInstitutions = async () => {\n    const resp = await fetch(`${domain}/institutions`);\n    return await resp.json();\n}\n\nconst listPersonalLoansFromInstitution = async (id, page) => {\n    const resp = await fetch(`${domain}/institutions/${id}/personal-loans?page=${page}`);\n    return await resp.json();\n}\n\n\nexport { listInstitutions, listPersonalLoansFromInstitution };","import React from \"react\";\n\nconst InstitutionsContext = React.createContext({ items: [], loaded: false});\n\nconst InstitutionsProvider = InstitutionsContext.Provider;\n\nexport { InstitutionsContext, InstitutionsProvider };\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { InstitutionsContext } from \"../InstitutionsContext\";\n\nfunction Institutions() {\n  const [state] = useContext(InstitutionsContext);\n\n  return (\n    <section>\n      <h2>Bancos</h2>\n      <ul>\n        {state.items.map((item) => (\n          <li key={\"item_\" + item.id}>\n            <Link to={\"institutions/\" + item.id}>{item.name}</Link>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n\nexport default Institutions;\n","import { useContext, useState, useEffect } from \"react\";\nimport { useParams, useHistory  } from \"react-router-dom\";\nimport { Button, ButtonGroup } from \"@blueprintjs/core\";\n\nimport { InstitutionsContext } from \"../InstitutionsContext\";\n\nfunction Institution() {\n  let { id } = useParams();\n  const [state] = useContext(InstitutionsContext);\n  const [current, setCurrent] = useState(null);\n\n\n  useEffect(() => {\n    setCurrent(state.items.find((item) => item.id === id));\n  }, [state, id]);\n\n  const history = useHistory();\n  const linkTo = (segment) => history.push(`${history.location.pathname}/${segment}`)\n\n  return (\n    <section>\n      {current ? (\n        <div>\n          <h2>Detalhe de {current.name}</h2>\n\n          <section>\n            <ButtonGroup>\n              <Button onClick={() => linkTo('personal-loans')}>Empréstimo PF</Button>\n            </ButtonGroup>\n          </section>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </section>\n  );\n}\n\nexport default Institution;\n","import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { listPersonalLoansFromInstitution } from \"../services/api\";\n\nfunction PersonalLoans() {\n  const [personalLoans, setPersonalLoans] = useState([]);\n  const [nextPage, setNextPage] = useState(null);\n  const [pager, setPager] = useState({});\n  const { id } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      setNextPage(1);\n    })();\n  }, [id]);\n\n  useEffect(() => {\n    if (!nextPage) {\n      return;\n    }\n    (async () => {\n      const result = await listPersonalLoansFromInstitution(id, nextPage);\n      setPersonalLoans([...personalLoans, ...result.personalLoans]);\n      setPager(result.pagination);\n    })();\n  }, [id, nextPage]);\n\n  return (\n    <section>\n      <h2>Empréstimo - Pessoa Física</h2>\n      <table className={\"bp3-html-table\"}>\n        <thead>\n          <tr>\n            <th>Tipo</th>\n            <th>Termos e Condições</th>\n          </tr>\n        </thead>\n        <tbody>\n          {personalLoans.map((p, index) => (\n            <tr key={p._id + \"_\" + index}>\n              <td>{p.type}</td>\n              <td>{p.termsConditions}</td>\n              <td></td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <footer>\n        Página {pager.current}/{pager.total}\n      </footer>\n    </section>\n  );\n}\n\nexport default PersonalLoans;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Institutions from \"./pages/Institutions\";\nimport Institution from \"./pages/Institution\";\nimport PersonalLoans from \"./pages/PersonalLoans\";\n\nfunction Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"*/institutions/:id/personal-loans\">\n          <PersonalLoans></PersonalLoans>\n        </Route>\n        <Route path=\"*/institutions/:id\">\n          <Institution></Institution>\n        </Route>\n        <Route path=\"*/institutions\">\n          <Institutions></Institutions>\n        </Route>\n        <Route path=\"*/\">\n          <Institutions></Institutions>\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Router;\n","import { useState, useContext, useEffect } from \"react\";\n\nimport { Navbar } from \"@blueprintjs/core\";\nimport \"normalize.css/normalize.css\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\n\nimport { listInstitutions } from './services/api'; \n\nimport Router from './Router';\n\nimport {\n  InstitutionsContext,\n  InstitutionsProvider,\n} from \"./InstitutionsContext\";\n\n\n\nfunction App() {\n  const [state, setState] = useState({ items: [], loaded: false });\n\n  return (\n    <InstitutionsProvider value={[state, setState]}>\n      <Layout />\n    </InstitutionsProvider>\n  );\n}\n\nfunction Layout() {\n\n  const [state, setState] = useContext(InstitutionsContext);\n  \n  useEffect(() => {\n    (async () => {\n      const items = await listInstitutions();\n      setState({\n        ...state,\n        items,\n        loaded: true,\n      });\n    })();\n  }, []);\n\n\n  return (\n    <section>\n      <Navbar>\n        <h1>Open Banking Brasil</h1>\n      </Navbar>\n      <Router />\n    </section>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}