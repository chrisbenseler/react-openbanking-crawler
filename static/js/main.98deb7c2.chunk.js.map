{"version":3,"sources":["services/api.js","InstitutionsContext.js","pages/Institutions.js","pages/Institution.js","components/ServicesFees.js","pages/PersonalLoans.js","Router.js","App.js","reportWebVitals.js","index.js"],"names":["domain","process","listInstitutions","a","fetch","resp","json","listPersonalLoansFromInstitution","id","page","InstitutionsContext","React","createContext","items","loaded","InstitutionsProvider","Provider","Institutions","useContext","state","List","map","item","ListItem","button","component","Link","to","ListItemText","name","Institution","useParams","useState","current","setCurrent","useEffect","find","history","useHistory","linkTo","segment","push","location","pathname","ButtonGroup","variant","color","aria-label","Button","onClick","ServicesFees","services","service","i","code","prices","price","index","interval","value","currency","minimum","maximum","PersonalLoans","personalLoans","setPersonalLoans","nextPage","setNextPage","pager","setPager","result","pagination","p","type","fees","_id","total","Router","path","Layout","setState","AppBar","position","Toolbar","Typography","Container","maxWidth","App","theme","createMuiTheme","typography","h1","fontSize","CssBaseline","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98deb7c2.chunk.js","sourcesContent":["\nconst domain = process.env.REACT_APP_API_DOMAIN + \"/api\";\n\nconst listInstitutions = async () => {\n    const resp = await fetch(`${domain}/institutions`);\n    return await resp.json();\n}\n\nconst listPersonalLoansFromInstitution = async (id, page) => {\n    const resp = await fetch(`${domain}/institutions/${id}/personal-loans?page=${page}`);\n    return await resp.json();\n}\n\n\nexport { listInstitutions, listPersonalLoansFromInstitution };","import React from \"react\";\n\nconst InstitutionsContext = React.createContext({ items: [], loaded: false});\n\nconst InstitutionsProvider = InstitutionsContext.Provider;\n\nexport { InstitutionsContext, InstitutionsProvider };\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { InstitutionsContext } from \"../InstitutionsContext\";\n\nfunction Institutions() {\n  const [state] = useContext(InstitutionsContext);\n\n  return (\n    <section>\n      <h2>Bancos</h2>\n      <List>\n        {state.items.map((item) => (\n          <ListItem button key={\"item_\" + item.id} component={Link} to={\"institutions/\" + item.id}>\n            <ListItemText >{item.name}</ListItemText>\n          </ListItem>\n        ))}\n      </List>\n    </section>\n  );\n}\n\nexport default Institutions;\n","import { useContext, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\n\nimport { InstitutionsContext } from \"../InstitutionsContext\";\n\nfunction Institution() {\n  let { id } = useParams();\n  const [state] = useContext(InstitutionsContext);\n  const [current, setCurrent] = useState(null);\n\n  useEffect(() => {\n    setCurrent(state.items.find((item) => item.id === id));\n  }, [state, id]);\n\n  const history = useHistory();\n  const linkTo = (segment) =>\n    history.push(`${history.location.pathname}/${segment}`);\n\n  return (\n    <section>\n      {current ? (\n        <div>\n          <h2>Detalhe de {current.name}</h2>\n\n          <section>\n            <ButtonGroup\n              variant=\"contained\"\n              color=\"primary\"\n              aria-label=\"Empréstimos\"\n            >\n              <Button onClick={() => linkTo(\"personal-loans\")}>\n                Empréstimo PF\n              </Button>\n              <Button onClick={() => linkTo(\"business-loans\")}>\n                Empréstimo PJ\n              </Button>\n            </ButtonGroup>\n          </section>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </section>\n  );\n}\n\nexport default Institution;\n","function ServicesFees({ services }) {\n  return (\n    <div>\n      {services.map((service, i) => (\n        <div key={`service_${i}`}>\n          {service.name} ({service.code})\n          <ul>\n            {service.prices.map((price, index) => (\n              <li key={`price_${index}`}>\n                {price.interval}: {price.value} {price.currency}\n              </li>\n            ))}\n          </ul>\n          Min/max: {service.minimum.value} / {service.maximum.value}{\" \"}\n          {service.minimum.currency}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ServicesFees;\n","import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport ServicesFees from \"../components/ServicesFees\";\n\nimport { listPersonalLoansFromInstitution } from \"../services/api\";\n\nfunction PersonalLoans() {\n  const [personalLoans, setPersonalLoans] = useState([]);\n  const [nextPage, setNextPage] = useState(null);\n  const [pager, setPager] = useState({});\n  const { id } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      setNextPage(1);\n    })();\n  }, [id]);\n\n  useEffect(() => {\n    if (!nextPage) {\n      return;\n    }\n    (async () => {\n      const result = await listPersonalLoansFromInstitution(id, nextPage);\n      setPersonalLoans([...personalLoans, ...result.personalLoans]);\n      setPager(result.pagination);\n    })();\n  }, [id, nextPage]);\n\n  return (\n    <section>\n      <h2>Empréstimo - Pessoa Física</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>Tipo</th>\n            <th>Taxas</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {personalLoans.map((p, index) => (\n            <tr key={p._id + \"_\" + index}>\n              <td>{p.type}</td>\n              <td>\n                <ServicesFees services={p.fees.services} />\n              </td>\n              <td>\n                \n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <footer>\n        Página {pager.current}/{pager.total}\n      </footer>\n    </section>\n  );\n}\n\nexport default PersonalLoans;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Institutions from \"./pages/Institutions\";\nimport Institution from \"./pages/Institution\";\nimport PersonalLoans from \"./pages/PersonalLoans\";\n\nfunction Router() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"*/institutions/:id/personal-loans\">\n          <PersonalLoans></PersonalLoans>\n        </Route>\n        <Route path=\"*/institutions/:id\">\n          <Institution></Institution>\n        </Route>\n        <Route path=\"*/institutions\">\n          <Institutions></Institutions>\n        </Route>\n        <Route path=\"*/\">\n          <Institutions></Institutions>\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Router;\n","import { useState, useContext, useEffect } from \"react\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport \"normalize.css/normalize.css\";\nimport \"fontsource-roboto\";\n\nimport { listInstitutions } from \"./services/api\";\n\nimport Router from \"./Router\";\n\nimport {\n  InstitutionsContext,\n  InstitutionsProvider,\n} from \"./InstitutionsContext\";\n\nfunction App() {\n  const [state, setState] = useState({ items: [], loaded: false });\n\n  const theme = createMuiTheme();\n  theme.typography.h1 = {\n    fontSize: \"2.5rem\",\n  };\n\n  return (\n    <InstitutionsProvider value={[state, setState]}>\n      <CssBaseline />\n      <ThemeProvider theme={theme}>\n        <Layout />\n      </ThemeProvider>\n    </InstitutionsProvider>\n  );\n}\n\nfunction Layout() {\n  const [state, setState] = useContext(InstitutionsContext);\n\n  useEffect(() => {\n    (async () => {\n      const items = await listInstitutions();\n      setState({\n        ...state,\n        items,\n        loaded: true,\n      });\n    })();\n  }, []);\n\n  return (\n    <section>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h1\">Open Banking Brasil</Typography>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"md\">\n        <Router />\n      </Container>\n    </section>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}